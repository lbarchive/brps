{% extends "base.html" %}

{% block title %}Get Key and Install{% endblock %}

{% block content %}
{% if key %}
<h2>Your Key is <tt>{{ key }}</tt></h2>
Note that this key <tt>{{ key }}</tt> only works for <tt>{{ blog_url }}</tt>, it will not work for other blogs. Do not bother to try. If you have more than one blog, <a href="/getkey">get another key</a>.
<h2>Installation Steps</h2>
<h3>If You Have Previous Code</h3>
<p>Go search for the following in your Blogger template</p>
<pre>&lt;script src=&apos;http://brps.appspot.com/brps.js&apos; type=&apos;text/javascript&apos;/&gt;</pre>
and make it to be
<pre>&lt;script src=&apos;http://brps.appspot.com/brps.js<span style="color:#f00">?key={{ key }}</span>&apos; type=&apos;text/javascript&apos;/&gt;</pre>

<img src="/images/RelatedPostsSidebar.png" class="right" alt="Screenshot of the Widget at sidebar" title="Screenshot of the Widget at sidebar"/>
<h3>Add a Sidebar Widget</h3>
<h4>Step 1. Click the button below</h4>
<form method="post" action="http://www.blogger.com/add-widget">
  <div>
    <input type="hidden" name="infoUrl" value="http://brps.appspot.com"/>
    <input type="hidden" name="widget.title" value=""/>
    <textarea name="widget.content" style="display:none;" id="widget_content" rows="5" cols="80">
  &lt;script src=&quot;http://www.google.com/jsapi&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;http://brps.appspot.com/brps.js?key={{ key }}&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
  &lt;div id=&quot;related_posts&quot;&gt;&lt;/div&gt;
    </textarea>
    <input type="image" src="/images/add2blogger_lg.gif" alt="Add Related Posts Widget" title="Add Related Posts Widget"/>
  </div>
</form>

<h4>Step 2. Move the new sidebar widget to a position you like</h4>
<p>The new sidebar widget will be created at top of your sidebar, you may want to move it a better place. Remember to save.</p>

<p><b>Tip</b>: You actually can drag this sidebar widget and drop onto after <i>Blog Posts</i> widget, then this widget will show up after <i>comments</i>.</p>

<h4>Step 3. Go to one of your blog post</h4>
You have to see it in action in single post, you will not see the Related Posts list in your home page of your blog. Just randomly choose one of your blog post.

<h3>Add a Sidebar Widget Manually</h3>
<h4>Step 1. Add a HTML/JavaScript on your sidebar in Layout</h4>
<h4>Step 2. Put the following code and Save it</h4>
<pre>
&lt;script src=&quot;http://www.google.com/jsapi&quot;/&gt;
&lt;script src=&quot;http://brps.appspot.com/brps.js?key={{ key }}&quot; type=&quot;text/javascript&quot;/&gt;
&lt;div id=&quot;related_posts&quot;&gt;&lt;/div&gt;
</pre>
<h4>Step 3. Move the new sidebar widget to a position you like</h4>
<h4>Step 4. Go to one of your blog post</h4>

<h3>Add after your post</h3>
<img src="/images/RelatedPostsAfterPost.png" class="right" alt="Screenshot of the Widget after your post content" title="Screenshot of the Widget after your post content"/>
<h4>Step 1. Go to Layout/Edit HTML/Edit Template</h4>
<h4>Step 2. BACKUP your template! Do not skip this!</h4>
<h4>Step 3. Check Expand Widget Templates, then Find a block like:</h4>
<pre>
&lt;div class=&apos;post-footer-line post-footer-line-3&apos;/&gt;
  ...
&lt;/div&gt;
</pre>
<h4>Step 4. Add one more line to be:</h4>
<pre>
&lt;div class=&apos;post-footer-line post-footer-line-3&apos;/&gt;
  ...
&lt;/div&gt;
&lt;div id=&apos;related_posts&apos;/&gt;
</pre>
<h4>Step 5. Go to the end for:</h4>
<pre>
&lt;/body&gt;
&lt;/html&gt;
</pre>
<h4>Step 6. Add two more lines to be:</h4>
<pre>
&lt;script src=&apos;http://www.google.com/jsapi&apos;/&gt;
&lt;script src=&apos;http://brps.appspot.com/brps.js?key={{ key }}&apos; type=&apos;text/javascript&apos;/&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

{% else %}
<h2>Before You Get The Key</h2>
<p>Please must read the <a href="http://thebrps.blogspot.com/2009/10/blocking-policy.html">Blocking Policy</a>. BRPS DOES BLOCK! Do not waste your and our times, read the policy, first!</p>
<h2>Get The Key</h2>
<form action="/getkey" method="get">
<p style="text-align:center;color:#f00">{{ error }}</p>
<p style="text-align:center">
Your blog address: <input type="text" size="30" name="blog_url" id="blog_url" value="{{ blog_url }}"/>
</p>
<p style="text-align:center">
<input type="submit" value="Get Key and Installation Steps"/>
</p>
</form>
{% endif %}

{% endblock %}
